{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sehaj/dyad-apps/the-open-shelf/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean;\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\";\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    );\r\n  },\r\n);\r\nButton.displayName = \"Button\";\r\n\r\nexport { Button, buttonVariants };\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,6RAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,kVAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wVAAI,GAAG;IAC9B,qBACE,oWAAC;QACC,WAAW,IAAA,oKAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sehaj/dyad-apps/the-open-shelf/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n          className,\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    );\r\n  },\r\n);\r\nInput.displayName = \"Input\";\r\n\r\nexport { Input };\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,kVAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,oWAAC;QACC,MAAM;QACN,WAAW,IAAA,oKAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sehaj/dyad-apps/the-open-shelf/src/components/ui/dialog.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\r\nimport { X } from \"lucide-react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Dialog = DialogPrimitive.Root;\r\n\r\nconst DialogTrigger = DialogPrimitive.Trigger;\r\n\r\nconst DialogPortal = DialogPrimitive.Portal;\r\n\r\nconst DialogClose = DialogPrimitive.Close;\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\r\n\r\nconst DialogContent = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DialogPortal>\r\n    <DialogOverlay />\r\n    <DialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\r\n        <X className=\"h-4 w-4\" />\r\n        <span className=\"sr-only\">Close</span>\r\n      </DialogPrimitive.Close>\r\n    </DialogPrimitive.Content>\r\n  </DialogPortal>\r\n));\r\nDialogContent.displayName = DialogPrimitive.Content.displayName;\r\n\r\nconst DialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n);\r\nDialogHeader.displayName = \"DialogHeader\";\r\n\r\nconst DialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n);\r\nDialogFooter.displayName = \"DialogFooter\";\r\n\r\nconst DialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-lg font-semibold leading-none tracking-tight\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\r\n\r\nconst DialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n));\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\r\n\r\nexport {\r\n  Dialog,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogClose,\r\n  DialogTrigger,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogFooter,\r\n  DialogTitle,\r\n  DialogDescription,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,SAAS,kUAAoB;AAEnC,MAAM,gBAAgB,qUAAuB;AAE7C,MAAM,eAAe,oUAAsB;AAE3C,MAAM,cAAc,mUAAqB;AAEzC,MAAM,8BAAgB,kVAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oWAAC,qUAAuB;QACtB,KAAK;QACL,WAAW,IAAA,oKAAE,EACX,2JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qUAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,kVAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,oWAAC;;0BACC,oWAAC;;;;;0BACD,oWAAC,qUAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,oKAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,oWAAC,mUAAqB;wBAAC,WAAU;;0CAC/B,oWAAC,gUAAC;gCAAC,WAAU;;;;;;0CACb,oWAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,qUAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,oWAAC;QACC,WAAW,IAAA,oKAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,oWAAC;QACC,WAAW,IAAA,oKAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,kVAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oWAAC,mUAAqB;QACpB,KAAK;QACL,WAAW,IAAA,oKAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,mUAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,kVAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oWAAC,yUAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,oKAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,yUAA2B,CAAC,WAAW"}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sehaj/dyad-apps/the-open-shelf/src/utils/toast.ts"],"sourcesContent":["import { toast } from \"sonner\";\r\n\r\nexport const showSuccess = (message: string) => {\r\n  toast.success(message);\r\n};\r\n\r\nexport const showError = (message: string) => {\r\n  toast.error(message);\r\n};\r\n\r\nexport const showLoading = (message: string) => {\r\n  return toast.loading(message);\r\n};\r\n\r\nexport const dismissToast = (toastId: string) => {\r\n  toast.dismiss(toastId);\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,MAAM,cAAc,CAAC;IAC1B,4TAAK,CAAC,OAAO,CAAC;AAChB;AAEO,MAAM,YAAY,CAAC;IACxB,4TAAK,CAAC,KAAK,CAAC;AACd;AAEO,MAAM,cAAc,CAAC;IAC1B,OAAO,4TAAK,CAAC,OAAO,CAAC;AACvB;AAEO,MAAM,eAAe,CAAC;IAC3B,4TAAK,CAAC,OAAO,CAAC;AAChB"}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sehaj/dyad-apps/the-open-shelf/src/components/ArticleCard.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { Article } from '@/types/article';\nimport { cn } from '@/lib/utils';\n\nconst LOADED_IMAGES = new Set<string>();\n\ninterface ArticleCardProps {\n  article: Article;\n  onClick: (article: Article) => void;\n  isCanvas?: boolean;\n}\n\nconst ArticleCard = React.memo(({ article, onClick, isCanvas = false }: ArticleCardProps) => {\n  const imageUrl = article.imageUrl ? `${article.imageUrl}${article.imageUrl.includes('?') ? '&' : '?'}w=600&auto=format&q=75` : null;\n  const [imageLoaded, setImageLoaded] = useState(() => imageUrl ? LOADED_IMAGES.has(imageUrl) : false);\n\n  const handleLoad = () => {\n    if (imageUrl) {\n      LOADED_IMAGES.add(imageUrl);\n      setImageLoaded(true);\n    }\n  };\n\n  return (\n    <motion.div\n      whileHover={{ y: -4 }}\n      className={cn(\n        \"bg-white border border-gray-200/60 rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_12px_40px_rgb(0,0,0,0.08)] transition-all cursor-pointer group overflow-hidden\",\n        isCanvas ? 'w-[320px]' : 'w-full mb-6'\n      )}\n      onClick={() => onClick(article)}\n    >\n      {imageUrl && (\n        <div className=\"w-full h-44 overflow-hidden bg-gray-50 relative\">\n          <div className={cn(\n            \"absolute inset-0 bg-gray-100 transition-opacity duration-300\",\n            imageLoaded ? \"opacity-0\" : \"opacity-100\"\n          )} />\n          <motion.img \n            initial={false}\n            animate={{ opacity: imageLoaded ? 1 : 0 }}\n            transition={{ duration: 0.2 }}\n            src={imageUrl} \n            alt={article.title}\n            onLoad={handleLoad}\n            className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105\"\n            loading=\"lazy\"\n            onError={(e) => (e.currentTarget.style.display = 'none')}\n          />\n        </div>\n      )}\n      <div className=\"p-6 space-y-4\">\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center justify-between\">\n            <p className=\"text-[9px] uppercase tracking-[0.3em] text-gray-400 font-sans font-bold\">{article.source}</p>\n            <p className=\"text-[9px] text-gray-300 font-sans uppercase tracking-widest\">{article.readingTime}</p>\n          </div>\n          <h3 className=\"text-[17px] font-sans font-semibold leading-tight text-gray-900 line-clamp-2\">{article.title}</h3>\n        </div>\n        <p className=\"text-[13px] text-gray-500 line-clamp-3 font-serif italic leading-relaxed\">{article.excerpt}</p>\n        <div className=\"pt-3 border-t border-gray-50 flex items-center justify-between\">\n          <p className=\"text-[10px] text-gray-400 font-sans font-medium\">by {article.author}</p>\n          <span className=\"text-[9px] text-gray-300 font-sans\">{article.publishedAt}</span>\n        </div>\n      </div>\n    </motion.div>\n  );\n});\n\nArticleCard.displayName = 'ArticleCard';\n\nexport default ArticleCard;"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;;;AALA;;;;AAOA,MAAM,gBAAgB,IAAI;AAQ1B,MAAM,4BAAc,GAAA,+UAAK,CAAC,IAAI,SAAC,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,KAAK,EAAoB;;IACtF,MAAM,WAAW,QAAQ,QAAQ,GAAG,GAAG,QAAQ,QAAQ,GAAG,QAAQ,QAAQ,CAAC,QAAQ,CAAC,OAAO,MAAM,IAAI,sBAAsB,CAAC,GAAG;IAC/H,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gVAAQ;gCAAC,IAAM,WAAW,cAAc,GAAG,CAAC,YAAY;;IAE9F,MAAM,aAAa;QACjB,IAAI,UAAU;YACZ,cAAc,GAAG,CAAC;YAClB,eAAe;QACjB;IACF;IAEA,qBACE,oWAAC,qVAAM,CAAC,GAAG;QACT,YAAY;YAAE,GAAG,CAAC;QAAE;QACpB,WAAW,IAAA,oKAAE,EACX,qLACA,WAAW,cAAc;QAE3B,SAAS,IAAM,QAAQ;;YAEtB,0BACC,oWAAC;gBAAI,WAAU;;kCACb,oWAAC;wBAAI,WAAW,IAAA,oKAAE,EAChB,gEACA,cAAc,cAAc;;;;;;kCAE9B,oWAAC,qVAAM,CAAC,GAAG;wBACT,SAAS;wBACT,SAAS;4BAAE,SAAS,cAAc,IAAI;wBAAE;wBACxC,YAAY;4BAAE,UAAU;wBAAI;wBAC5B,KAAK;wBACL,KAAK,QAAQ,KAAK;wBAClB,QAAQ;wBACR,WAAU;wBACV,SAAQ;wBACR,SAAS,CAAC,IAAO,EAAE,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG;;;;;;;;;;;;0BAIvD,oWAAC;gBAAI,WAAU;;kCACb,oWAAC;wBAAI,WAAU;;0CACb,oWAAC;gCAAI,WAAU;;kDACb,oWAAC;wCAAE,WAAU;kDAA2E,QAAQ,MAAM;;;;;;kDACtG,oWAAC;wCAAE,WAAU;kDAAgE,QAAQ,WAAW;;;;;;;;;;;;0CAElG,oWAAC;gCAAG,WAAU;0CAAgF,QAAQ,KAAK;;;;;;;;;;;;kCAE7G,oWAAC;wBAAE,WAAU;kCAA4E,QAAQ,OAAO;;;;;;kCACxG,oWAAC;wBAAI,WAAU;;0CACb,oWAAC;gCAAE,WAAU;;oCAAkD;oCAAI,QAAQ,MAAM;;;;;;;0CACjF,oWAAC;gCAAK,WAAU;0CAAsC,QAAQ,WAAW;;;;;;;;;;;;;;;;;;;;;;;;AAKnF;;AAEA,YAAY,WAAW,GAAG;uCAEX"}},
    {"offset": {"line": 471, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sehaj/dyad-apps/the-open-shelf/src/pages/Profile.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useAuth } from '@/hooks/useAuth';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { Plus, Bookmark, FolderPlus, Trash2, LogOut, ChevronLeft, ChevronRight } from 'lucide-react';\nimport { showSuccess, showError } from '@/utils/toast';\nimport ArticleCard from '@/components/ArticleCard';\nimport { Article } from '@/types/article';\n\ninterface Stack {\n  id: string;\n  name: string;\n  user_id: string;\n  created_at: string;\n}\n\ninterface SavedArticle {\n  id: string;\n  article_id: string;\n  stack_id: string;\n  articles: Article;\n}\n\nconst Profile = () => {\n  const { user, signOut } = useAuth();\n  const router = useRouter();\n  const [stacks, setStacks] = useState<Stack[]>([]);\n  const [savedArticles, setSavedArticles] = useState<SavedArticle[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [newStackName, setNewStackName] = useState('');\n  const [selectedStack, setSelectedStack] = useState<string | null>(null);\n  const [isCreatingStack, setIsCreatingStack] = useState(false);\n\n  const fetchStacks = async () => {\n    if (!user) return;\n    setLoading(true);\n    try {\n      const { data, error } = await supabase\n        .from('stacks')\n        .select('*')\n        .eq('user_id', user.id)\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n      setStacks(data || []);\n      if (data && data.length > 0) {\n        setSelectedStack(data[0].id);\n      }\n    } catch (err) {\n      showError(\"Could not load your stacks.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchSavedArticles = async () => {\n    if (!user || !selectedStack) return;\n    setLoading(true);\n    try {\n      const { data, error } = await supabase\n        .from('saved_articles')\n        .select(`\n          *,\n          articles:articles (*)\n        `)\n        .eq('stack_id', selectedStack)\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n      setSavedArticles(data || []);\n    } catch (err) {\n      showError(\"Could not load saved articles.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchStacks();\n  }, [user]);\n\n  useEffect(() => {\n    if (selectedStack) {\n      fetchSavedArticles();\n    }\n  }, [selectedStack, user]);\n\n  const handleCreateStack = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!newStackName.trim()) return;\n    setIsCreatingStack(true);\n    try {\n      const { data, error } = await supabase\n        .from('stacks')\n        .insert({\n          name: newStackName.trim(),\n          user_id: user?.id\n        })\n        .select()\n        .single();\n\n      if (error) throw error;\n      setStacks(prev => [data, ...prev]);\n      setSelectedStack(data.id);\n      setNewStackName('');\n      showSuccess(\"Stack created\");\n    } catch (err) {\n      showError(\"Could not create stack.\");\n    } finally {\n      setIsCreatingStack(false);\n    }\n  };\n\n  const handleDeleteStack = async (stackId: string) => {\n    try {\n      const { error } = await supabase\n        .from('stacks')\n        .delete()\n        .eq('id', stackId);\n\n      if (error) throw error;\n      setStacks(prev => prev.filter(s => s.id !== stackId));\n      if (selectedStack === stackId) {\n        setSelectedStack(stacks.length > 1 ? stacks[1].id : null);\n      }\n      showSuccess(\"Stack removed\");\n    } catch (err) {\n      showError(\"Could not remove stack.\");\n    }\n  };\n\n  const handleArticleClick = (article: Article) => {\n    router.push(`/shelf/article/${article.id}`);\n  };\n\n  return (\n    <div className=\"h-screen w-screen bg-background flex flex-col overflow-hidden\">\n      <header className=\"fixed top-0 left-0 right-0 z-40 bg-white/80 backdrop-blur-md border-b border-gray-100 px-6 py-4 flex justify-between items-center\">\n        <div className=\"flex flex-col items-start cursor-pointer group\" onClick={() => router.push('/shelf')}>\n          <span className=\"text-[9px] uppercase tracking-[0.4em] font-sans font-bold text-gray-400 group-hover:text-gray-900 transition-colors\">The</span>\n          <h1 className=\"text-xl font-serif font-medium tracking-tight text-gray-900\">\n            Open Shelf\n          </h1>\n        </div>\n\n        <div className=\"flex items-center space-x-6\">\n          <button \n            onClick={signOut} \n            className=\"p-2 text-gray-300 hover:text-red-500 transition-colors\"\n            title=\"Sign Out\"\n          >\n            <LogOut size={16} />\n          </button>\n        </div>\n      </header>\n\n      <main className=\"flex-1 mt-[73px] flex overflow-hidden\">\n        {/* Sidebar */}\n        <div className=\"w-80 border-r border-gray-100 flex flex-col overflow-y-auto\">\n          <div className=\"p-6 border-b border-gray-100\">\n            <h2 className=\"text-lg font-serif font-medium text-gray-900\">Your Stacks</h2>\n            <p className=\"text-[10px] uppercase tracking-widest text-gray-400 font-sans mt-1\">Organize your saved articles</p>\n          </div>\n\n          <div className=\"p-6 space-y-4\">\n            <Dialog>\n              <DialogTrigger asChild>\n                <Button variant=\"outline\" className=\"w-full rounded-none border-gray-100 hover:border-gray-900 h-12 text-[10px] uppercase tracking-[0.3em] font-bold\">\n                  <Plus size={14} className=\"mr-2\" />\n                  New Stack\n                </Button>\n              </DialogTrigger>\n              <DialogContent className=\"sm:max-w-md rounded-none border-gray-100\">\n                <DialogHeader>\n                  <DialogTitle className=\"font-serif text-2xl font-medium\">Create New Stack</DialogTitle>\n                </DialogHeader>\n                <form onSubmit={handleCreateStack} className=\"space-y-6 pt-6\">\n                  <Input\n                    placeholder=\"e.g., Philosophy, Technology, Reading List\"\n                    value={newStackName}\n                    onChange={(e) => setNewStackName(e.target.value)}\n                    className=\"rounded-none border-gray-200 focus-visible:ring-0 focus-visible:ring-offset-0 focus:border-gray-900 h-12\"\n                  />\n                  <Button type=\"submit\" disabled={isCreatingStack} className=\"w-full rounded-none bg-gray-900 hover:bg-black h-12 text-[10px] uppercase tracking-[0.3em] font-bold\">\n                    {isCreatingStack ? 'Creating...' : 'Create Stack'}\n                  </Button>\n                </form>\n              </DialogContent>\n            </Dialog>\n\n            <div className=\"space-y-2\">\n              {stacks.map(stack => (\n                <div key={stack.id} className={`flex items-center justify-between p-3 rounded transition-colors ${selectedStack === stack.id ? 'bg-gray-50 border border-gray-200' : 'hover:bg-gray-50'}`}>\n                  <button \n                    onClick={() => setSelectedStack(stack.id)}\n                    className=\"flex-1 text-left overflow-hidden\"\n                  >\n                    <p className=\"font-serif font-medium text-base text-gray-900 truncate\">{stack.name}</p>\n                    <p className=\"text-[9px] uppercase tracking-widest text-gray-400 truncate\">\n                      {savedArticles.filter(a => a.stack_id === stack.id).length} articles\n                    </p>\n                  </button>\n                  <Button \n                    variant=\"ghost\" \n                    size=\"icon\" \n                    onClick={() => handleDeleteStack(stack.id)}\n                    className=\"text-gray-300 hover:text-red-500 transition-colors h-8 w-8\"\n                  >\n                    <Trash2 size={14} />\n                  </Button>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Content Area */}\n        <div className=\"flex-1 overflow-y-auto subtle-grid\">\n          {selectedStack ? (\n            <div className=\"p-12\">\n              <div className=\"flex items-center justify-between mb-8\">\n                <div>\n                  <h2 className=\"text-3xl font-serif font-medium text-gray-900\">{stacks.find(s => s.id === selectedStack)?.name}</h2>\n                  <p className=\"text-[10px] uppercase tracking-widest text-gray-400 font-sans mt-2\">\n                    {savedArticles.length} {savedArticles.length === 1 ? 'article' : 'articles'}\n                  </p>\n                </div>\n              </div>\n\n              {savedArticles.length === 0 ? (\n                <div className=\"h-full flex flex-col items-center justify-center text-center px-6 space-y-6\">\n                  <div className=\"space-y-2\">\n                    <p className=\"text-gray-400 font-serif italic text-xl\">\n                      This stack is empty.\n                    </p>\n                    <p className=\"text-[10px] uppercase tracking-widest text-gray-300 font-sans max-w-xs mx-auto\">\n                      Save articles from the canvas or feed to organize your reading.\n                    </p>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"columns-1 sm:columns-2 lg:columns-3 xl:columns-4 2xl:columns-5 gap-8 space-y-8\">\n                  {savedArticles.map(item => (\n                    <div key={item.id} className=\"break-inside-avoid\">\n                      <ArticleCard \n                        article={item.articles} \n                        onClick={handleArticleClick}\n                      />\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"h-full flex flex-col items-center justify-center text-center px-6 space-y-6\">\n              <div className=\"space-y-2\">\n                <p className=\"text-gray-400 font-serif italic text-xl\">\n                  Create your first stack.\n                </p>\n                <p className=\"text-[10px] uppercase tracking-widest text-gray-300 font-sans max-w-xs mx-auto\">\n                  Stacks help you organize and categorize your saved articles.\n                </p>\n              </div>\n              <Dialog>\n                <DialogTrigger asChild>\n                  <Button className=\"flex items-center space-x-2 px-8 py-4 border border-gray-100 hover:border-gray-900 transition-all text-[10px] uppercase tracking-[0.3em] font-bold\">\n                    <FolderPlus size={16} />\n                    <span>Create First Stack</span>\n                  </Button>\n                </DialogTrigger>\n                <DialogContent className=\"sm:max-w-md rounded-none border-gray-100\">\n                  <DialogHeader>\n                    <DialogTitle className=\"font-serif text-2xl font-medium\">Create New Stack</DialogTitle>\n                  </DialogHeader>\n                  <form onSubmit={handleCreateStack} className=\"space-y-6 pt-6\">\n                    <Input\n                      placeholder=\"e.g., Philosophy, Technology, Reading List\"\n                      value={newStackName}\n                      onChange={(e) => setNewStackName(e.target.value)}\n                      className=\"rounded-none border-gray-200 focus-visible:ring-0 focus-visible:ring-offset-0 focus:border-gray-900 h-12\"\n                    />\n                    <Button type=\"submit\" disabled={isCreatingStack} className=\"w-full rounded-none bg-gray-900 hover:bg-black h-12 text-[10px] uppercase tracking-[0.3em] font-bold\">\n                      {isCreatingStack ? 'Creating...' : 'Create Stack'}\n                    </Button>\n                  </form>\n                </DialogContent>\n              </Dialog>\n            </div>\n          )}\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default Profile;"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;AAXA;;;;;;;;;;;AA4BA,MAAM,UAAU;;IACd,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,8KAAO;IACjC,MAAM,SAAS,IAAA,yTAAS;IACxB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,gVAAQ,EAAU,EAAE;IAChD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,gVAAQ,EAAiB,EAAE;IACrE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gVAAQ,EAAC;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gVAAQ,EAAC;IACjD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,gVAAQ,EAAgB;IAClE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,gVAAQ,EAAC;IAEvD,MAAM,cAAc;QAClB,IAAI,CAAC,MAAM;QACX,WAAW;QACX,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,gMAAQ,CACnC,IAAI,CAAC,UACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM;YAE1C,IAAI,OAAO,MAAM;YACjB,UAAU,QAAQ,EAAE;YACpB,IAAI,QAAQ,KAAK,MAAM,GAAG,GAAG;gBAC3B,iBAAiB,IAAI,CAAC,EAAE,CAAC,EAAE;YAC7B;QACF,EAAE,OAAO,KAAK;YACZ,IAAA,6KAAS,EAAC;QACZ,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,qBAAqB;QACzB,IAAI,CAAC,QAAQ,CAAC,eAAe;QAC7B,WAAW;QACX,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,gMAAQ,CACnC,IAAI,CAAC,kBACL,MAAM,CAAC,CAAC;;;QAGT,CAAC,EACA,EAAE,CAAC,YAAY,eACf,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM;YAE1C,IAAI,OAAO,MAAM;YACjB,iBAAiB,QAAQ,EAAE;QAC7B,EAAE,OAAO,KAAK;YACZ,IAAA,6KAAS,EAAC;QACZ,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,iVAAS;6BAAC;YACR;QACF;4BAAG;QAAC;KAAK;IAET,IAAA,iVAAS;6BAAC;YACR,IAAI,eAAe;gBACjB;YACF;QACF;4BAAG;QAAC;QAAe;KAAK;IAExB,MAAM,oBAAoB,OAAO;QAC/B,EAAE,cAAc;QAChB,IAAI,CAAC,aAAa,IAAI,IAAI;QAC1B,mBAAmB;QACnB,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,gMAAQ,CACnC,IAAI,CAAC,UACL,MAAM,CAAC;gBACN,MAAM,aAAa,IAAI;gBACvB,SAAS,MAAM;YACjB,GACC,MAAM,GACN,MAAM;YAET,IAAI,OAAO,MAAM;YACjB,UAAU,CAAA,OAAQ;oBAAC;uBAAS;iBAAK;YACjC,iBAAiB,KAAK,EAAE;YACxB,gBAAgB;YAChB,IAAA,+KAAW,EAAC;QACd,EAAE,OAAO,KAAK;YACZ,IAAA,6KAAS,EAAC;QACZ,SAAU;YACR,mBAAmB;QACrB;IACF;IAEA,MAAM,oBAAoB,OAAO;QAC/B,IAAI;YACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,gMAAQ,CAC7B,IAAI,CAAC,UACL,MAAM,GACN,EAAE,CAAC,MAAM;YAEZ,IAAI,OAAO,MAAM;YACjB,UAAU,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YAC5C,IAAI,kBAAkB,SAAS;gBAC7B,iBAAiB,OAAO,MAAM,GAAG,IAAI,MAAM,CAAC,EAAE,CAAC,EAAE,GAAG;YACtD;YACA,IAAA,+KAAW,EAAC;QACd,EAAE,OAAO,KAAK;YACZ,IAAA,6KAAS,EAAC;QACZ;IACF;IAEA,MAAM,qBAAqB,CAAC;QAC1B,OAAO,IAAI,CAAC,CAAC,eAAe,EAAE,QAAQ,EAAE,EAAE;IAC5C;IAEA,qBACE,oWAAC;QAAI,WAAU;;0BACb,oWAAC;gBAAO,WAAU;;kCAChB,oWAAC;wBAAI,WAAU;wBAAiD,SAAS,IAAM,OAAO,IAAI,CAAC;;0CACzF,oWAAC;gCAAK,WAAU;0CAAsH;;;;;;0CACtI,oWAAC;gCAAG,WAAU;0CAA8D;;;;;;;;;;;;kCAK9E,oWAAC;wBAAI,WAAU;kCACb,cAAA,oWAAC;4BACC,SAAS;4BACT,WAAU;4BACV,OAAM;sCAEN,cAAA,oWAAC,mVAAM;gCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;0BAKpB,oWAAC;gBAAK,WAAU;;kCAEd,oWAAC;wBAAI,WAAU;;0CACb,oWAAC;gCAAI,WAAU;;kDACb,oWAAC;wCAAG,WAAU;kDAA+C;;;;;;kDAC7D,oWAAC;wCAAE,WAAU;kDAAqE;;;;;;;;;;;;0CAGpF,oWAAC;gCAAI,WAAU;;kDACb,oWAAC,uLAAM;;0DACL,oWAAC,8LAAa;gDAAC,OAAO;0DACpB,cAAA,oWAAC,uLAAM;oDAAC,SAAQ;oDAAU,WAAU;;sEAClC,oWAAC,yUAAI;4DAAC,MAAM;4DAAI,WAAU;;;;;;wDAAS;;;;;;;;;;;;0DAIvC,oWAAC,8LAAa;gDAAC,WAAU;;kEACvB,oWAAC,6LAAY;kEACX,cAAA,oWAAC,4LAAW;4DAAC,WAAU;sEAAkC;;;;;;;;;;;kEAE3D,oWAAC;wDAAK,UAAU;wDAAmB,WAAU;;0EAC3C,oWAAC,qLAAK;gEACJ,aAAY;gEACZ,OAAO;gEACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;gEAC/C,WAAU;;;;;;0EAEZ,oWAAC,uLAAM;gEAAC,MAAK;gEAAS,UAAU;gEAAiB,WAAU;0EACxD,kBAAkB,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;kDAM3C,oWAAC;wCAAI,WAAU;kDACZ,OAAO,GAAG,CAAC,CAAA,sBACV,oWAAC;gDAAmB,WAAW,CAAC,gEAAgE,EAAE,kBAAkB,MAAM,EAAE,GAAG,sCAAsC,oBAAoB;;kEACvL,oWAAC;wDACC,SAAS,IAAM,iBAAiB,MAAM,EAAE;wDACxC,WAAU;;0EAEV,oWAAC;gEAAE,WAAU;0EAA2D,MAAM,IAAI;;;;;;0EAClF,oWAAC;gEAAE,WAAU;;oEACV,cAAc,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK,MAAM,EAAE,EAAE,MAAM;oEAAC;;;;;;;;;;;;;kEAG/D,oWAAC,uLAAM;wDACL,SAAQ;wDACR,MAAK;wDACL,SAAS,IAAM,kBAAkB,MAAM,EAAE;wDACzC,WAAU;kEAEV,cAAA,oWAAC,mVAAM;4DAAC,MAAM;;;;;;;;;;;;+CAhBR,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;kCAyB1B,oWAAC;wBAAI,WAAU;kCACZ,8BACC,oWAAC;4BAAI,WAAU;;8CACb,oWAAC;oCAAI,WAAU;8CACb,cAAA,oWAAC;;0DACC,oWAAC;gDAAG,WAAU;0DAAiD,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,gBAAgB;;;;;;0DACzG,oWAAC;gDAAE,WAAU;;oDACV,cAAc,MAAM;oDAAC;oDAAE,cAAc,MAAM,KAAK,IAAI,YAAY;;;;;;;;;;;;;;;;;;gCAKtE,cAAc,MAAM,KAAK,kBACxB,oWAAC;oCAAI,WAAU;8CACb,cAAA,oWAAC;wCAAI,WAAU;;0DACb,oWAAC;gDAAE,WAAU;0DAA0C;;;;;;0DAGvD,oWAAC;gDAAE,WAAU;0DAAiF;;;;;;;;;;;;;;;;6FAMlG,oWAAC;oCAAI,WAAU;8CACZ,cAAc,GAAG,CAAC,CAAA,qBACjB,oWAAC;4CAAkB,WAAU;sDAC3B,cAAA,oWAAC,uLAAW;gDACV,SAAS,KAAK,QAAQ;gDACtB,SAAS;;;;;;2CAHH,KAAK,EAAE;;;;;;;;;;;;;;;qFAWzB,oWAAC;4BAAI,WAAU;;8CACb,oWAAC;oCAAI,WAAU;;sDACb,oWAAC;4CAAE,WAAU;sDAA0C;;;;;;sDAGvD,oWAAC;4CAAE,WAAU;sDAAiF;;;;;;;;;;;;8CAIhG,oWAAC,uLAAM;;sDACL,oWAAC,8LAAa;4CAAC,OAAO;sDACpB,cAAA,oWAAC,uLAAM;gDAAC,WAAU;;kEAChB,oWAAC,+VAAU;wDAAC,MAAM;;;;;;kEAClB,oWAAC;kEAAK;;;;;;;;;;;;;;;;;sDAGV,oWAAC,8LAAa;4CAAC,WAAU;;8DACvB,oWAAC,6LAAY;8DACX,cAAA,oWAAC,4LAAW;wDAAC,WAAU;kEAAkC;;;;;;;;;;;8DAE3D,oWAAC;oDAAK,UAAU;oDAAmB,WAAU;;sEAC3C,oWAAC,qLAAK;4DACJ,aAAY;4DACZ,OAAO;4DACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;4DAC/C,WAAU;;;;;;sEAEZ,oWAAC,uLAAM;4DAAC,MAAK;4DAAS,UAAU;4DAAiB,WAAU;sEACxD,kBAAkB,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWzD;GA9QM;;QACsB,8KAAO;QAClB,yTAAS;;;KAFpB;uCAgRS"}}]
}